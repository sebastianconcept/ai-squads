---
description: Cursor Integration - Pines UI Library Adoption
type: cursor-rule
status: active
---

# Cursor Integration: Pines UI Library Adoption

## Project Context

This feature implements Pines UI library adoption for the BankFlow project, focusing on:
- Unified UI component library across site and SaaS applications
- SaaS asset pipeline setup with Tailwind CSS and Vite
- Design system integration with glassmorphism effects
- Alpine.js compatibility and component migration

## Technical Stack

### Current Stack
- **Backend**: Rust with Axum web framework
- **Frontend**: HTMX + Alpine.js + Askama templates
- **Styling**: Tailwind CSS with custom design system
- **Build Tool**: Vite for asset building
- **Design**: Glassmorphism effects with dark theme

### Target Stack
- **Backend**: Rust with Axum (unchanged)
- **Frontend**: HTMX + Alpine.js + Askama templates (unchanged)
- **Styling**: Tailwind CSS + Pines UI library
- **Build Tool**: Vite for both site and SaaS
- **Design**: Pines components with glassmorphism integration

## File Structure

```
product/bankflow/
├── crates/
│   ├── site/                    # Site application (Port 3000)
│   │   ├── assets/
│   │   │   ├── css/main.css     # Tailwind + Pines integration
│   │   │   └── js/              # Alpine.js components
│   │   ├── templates/           # Askama templates
│   │   ├── package.json         # Asset dependencies
│   │   ├── vite.config.js       # Vite configuration
│   │   └── tailwind.config.js   # Tailwind + Pines config
│   └── saas/                    # SaaS application (Port 3001)
│       ├── assets/              # New asset pipeline
│       │   ├── css/main.css     # Tailwind + Pines integration
│       │   └── js/              # Alpine.js components
│       ├── templates/            # Askama templates
│       ├── package.json         # New asset dependencies
│       ├── vite.config.js       # New Vite configuration
│       └── tailwind.config.js   # New Tailwind + Pines config
└── .ai-squads/projects/bankflow/feature-pines-ui-adoption/
    ├── problem.md               # Problem definition
    ├── solution.md              # Solution design
    ├── jtbd-analysis.md         # Customer jobs analysis
    ├── goal.md                  # Success criteria
    ├── tasks.md                 # Task breakdown
    ├── status.md                # Current status
    └── implementation-status.md # Implementation tracking
```

## Implementation Guidelines

### Pines UI Integration
- Use Pines UI components as foundation
- Extend with glassmorphism effects
- Maintain dark theme compatibility
- Preserve Alpine.js functionality

### Design System Integration
- Merge Pines themes with existing design tokens
- Maintain glassmorphism effects
- Preserve color palette and typography
- Ensure responsive design

### Asset Pipeline Setup
- Replicate site's Vite setup for SaaS
- Configure Tailwind CSS integration
- Implement hot reloading for development
- Set up production asset optimization
- Update Docker images for asset building

### Component Migration Strategy
- Migrate components gradually
- Test functionality at each step
- Maintain backward compatibility
- Document changes and usage

## Code Standards

### Rust Code
- Follow existing Rust conventions
- Use `cargo fmt` and `cargo clippy`
- Maintain error handling patterns
- Update Askama templates as needed

### JavaScript/CSS Code
- Follow existing asset structure
- Use Tailwind CSS classes
- Integrate Alpine.js directives
- Maintain component organization

### Documentation
- Update component documentation
- Create usage guidelines
- Document migration process
- Maintain design system docs

## Quality Gates

### Pre-Implementation
- [ ] Pines UI library research completed
- [ ] Design system analysis completed
- [ ] Technical feasibility confirmed
- [ ] Resource allocation approved

### Implementation
- [ ] All tests pass
- [ ] Code review completed
- [ ] Performance benchmarks met
- [ ] Accessibility standards maintained

### Post-Implementation
- [ ] Documentation complete
- [ ] Team training completed
- [ ] Performance monitoring set up
- [ ] Success metrics tracked

## Common Patterns

### Pines Component Usage
```html
<!-- Button with glassmorphism -->
<button class="pines-btn pines-btn-primary glass-card">
  Click me
</button>

<!-- Card with glassmorphism -->
<div class="pines-card glass-card">
  <div class="pines-card-header">
    <h3>Card Title</h3>
  </div>
  <div class="pines-card-body">
    Card content
  </div>
</div>

<!-- Modal with glassmorphism -->
<div class="pines-modal glass-modal">
  <div class="pines-modal-backdrop glass-modal-backdrop"></div>
  <div class="pines-modal-content glass-card">
    Modal content
  </div>
</div>
```

### Alpine.js Integration
```html
<!-- Dropdown with Alpine.js -->
<div x-data="{ open: false }" class="pines-dropdown">
  <button @click="open = !open" class="pines-btn">
    Toggle
  </button>
  <div x-show="open" class="pines-dropdown-menu glass-card">
    Dropdown content
  </div>
</div>
```

### Tailwind Configuration
```javascript
// tailwind.config.js
module.exports = {
  content: [
    "./templates/**/*.html",
    "./src/**/*.rs",
    "./assets/**/*.{js,ts,html}"
  ],
  theme: {
    extend: {
      colors: {
        // Pines UI colors
        'pines-primary': '#3b82f6',
        'pines-secondary': '#6b7280',
        // Custom glassmorphism colors
        'glass-bg': 'rgba(255, 255, 255, 0.1)',
        'glass-border': 'rgba(255, 255, 255, 0.2)',
      },
      backdropBlur: {
        'glass': '12px',
      }
    }
  },
  plugins: [
    require('@tailwindcss/forms'),
    // Pines UI plugin
  ]
}
```

## Testing Strategy

### Component Testing
- Test Pines components with our design system
- Verify glassmorphism effects
- Test Alpine.js integration
- Validate responsive behavior

### Integration Testing
- Test site application integration
- Test SaaS application integration
- Verify cross-application consistency
- Test performance impact

### User Testing
- Test user experience consistency
- Validate accessibility compliance
- Test task completion efficiency
- Gather user feedback

## Performance Considerations

### Bundle Size
- Monitor JavaScript bundle size
- Implement tree-shaking
- Use selective component imports
- Optimize asset loading

### Performance
- Track page load times
- Monitor interaction responsiveness
- Test on various devices
- Optimize critical rendering path

## Troubleshooting

### Common Issues
- **Pines components not rendering**: Check Tailwind configuration
- **Glassmorphism effects missing**: Verify CSS custom properties
- **Alpine.js not working**: Check component integration
- **Build errors**: Verify Vite configuration
- **Docker build failures**: Check Node.js asset building stage
- **Assets not loading in containers**: Verify asset copying in Dockerfile

### Debugging Steps
1. Check browser console for errors
2. Verify component imports
3. Test Tailwind CSS compilation
4. Check Alpine.js initialization
5. Validate asset pipeline
6. Test Docker asset building
7. Verify asset serving in containers

## Resources

### Documentation
- [Pines UI Library](https://github.com/thedevdojo/pines)
- [Tailwind CSS](https://tailwindcss.com/)
- [Alpine.js](https://alpinejs.dev/)
- [Vite](https://vitejs.dev/)

### Project Files
- Design system: `docs/design_system_guide.md`
- Tailwind setup: `docs/tailwind_setup_instructions.md`
- Asset pipeline: `product/bankflow/crates/site/vite.config.js`
- Current implementation: `product/bankflow/crates/site/assets/`
